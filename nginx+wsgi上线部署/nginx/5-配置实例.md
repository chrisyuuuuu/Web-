**1、gunicorn**

```
# https://docs.djangoproject.com/en/3.1/howto/deployment/wsgi/gunicorn/
# https://docs.gunicorn.org/en/latest/install.html
# https://www.restran.net/2015/10/04/supervisord-tutorial/
# https://xugaoxiang.com/2019/12/04/supervisor/
```

**2、nginx**

```
# https://juejin.cn/post/6844903983622914062 初级后端入门教程
# https://www.zmrenwu.com/courses/django-blog-tutorial/materials/15/
```

**3、部署流程**

```
# 添加新用户
adduser wangbq
passwd wangbq
usermod -aG wheel wangbq
su - wangbq
# 下载sqlite3
wget https://
tar zxvf ...tar.gz
cd sqlite-autoconf-
./configure
make
sudo make install

# 安装python3
wget https://
tar zxvf ...
cd Python.3.6.4
./configure
make
sudo make install
python3.6 -V
sudo pip3.6 install pipenv
报错 -- pip3.6 install pipenv --user
pipenv --version

## 部署代码
修改allow_hosts
配置静态文件
安装git
git clone 代码地址
pipenv install --deploy --ignore-pipfile
数据库迁移
开启服务器  runserver

## 使用Gunicorn
pipenv install gunicorn
pipenv run gunicorn 项目名称 wsgi -w 2 -k gthread -b 0.0.0.0:8000
gunicorn 不处理静态文件

## 使用nginx
创建.conf文件
sudo systemctl restart nginx
debug = True
收集静态目录 pipenv run pyton manage.py collectstatic 
启动django应用pipenv run gunicorn 项目名称 wsgi -w 2 -k gthread -b 0.0.0.0:8000
pip install supervisor
cd /etc
echo_supervisord_conf > supervisord.conf
[unix_http_server]
file = ***.sock
[supervisord]
logfile = 
pidfile=
user去掉注释
[supervisorctl]
serverurl = unix
[include]
files = 

```

